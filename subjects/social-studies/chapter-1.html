<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1: American History - Social Studies</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    
    <!-- Chapter-specific styles -->
    <style>
        .history-hub {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-xxl) 0;
        }
        
        .history-card {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(74, 144, 226, 0.05) 100%);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .history-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-color);
        }
        
        .timeline-controls {
            margin: var(--spacing-lg) 0;
        }
        
        .period-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }
        
        .timeline-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .timeline-btn.active {
            background-color: var(--primary-color);
            color: var(--text-white);
        }
        
        .timeline-event {
            background-color: var(--bg-card);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .timeline-event:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-md);
        }
        
        .tribes-explorer, .explorer-simulation, .colony-builder, .constitution-simulation {
            background-color: var(--bg-accent);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }
        
        .tribe-buttons, .supply-choices, .colony-choices, .constitutional-issues {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
            margin: var(--spacing-md) 0;
        }
        
        .tribe-btn, .evaluation-btn, .build-btn, .solve-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            background-color: var(--primary-color);
            color: var(--text-white);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .tribe-btn:hover, .evaluation-btn:hover, .build-btn:hover, .solve-btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        .content-section {
            margin-top: var(--spacing-xxl);
        }
        
        .daily-challenge {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin: var(--spacing-xxl) 0;
            color: var(--text-white);
        }
        
        .challenge-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin: var(--spacing-lg) 0;
        }
        
        .challenge-options button {
            padding: var(--spacing-md);
            background-color: rgba(255, 255, 255, 0.2);
            color: var(--text-white);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .challenge-options button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .info-display, .feedback-display, .result-display {
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            padding: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        
        .choice-group {
            margin-bottom: var(--spacing-md);
        }
        
        .choice-group label {
            display: block;
            margin-bottom: var(--spacing-sm);
            cursor: pointer;
        }
        
        .issue {
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
    </style>
    
    <!-- Epic 7 Interactive Systems -->
    <script src="../../js/drag-drop-utils.js" defer></script>
    <script src="../../js/assessment-system.js" defer></script>
    <script src="../../js/multimedia-system.js" defer></script>
    <script src="../../js/gamification-system.js" defer></script>
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Loading American History...</p>
    </div>

    <!-- App Container -->
    <div id="app" class="app-container" style="display: none;">
        <!-- Navigation will be loaded here -->
        <div id="header-container"></div>
        
        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <div class="content-header">
                <h1>ğŸ›ï¸ Chapter 1: American History</h1>
                <p>Journey through the founding of America - from Native American civilizations to the birth of our nation</p>
            </div>

            <!-- Main Navigation -->
            <div class="history-hub">
                <div class="history-card" onclick="showTimelineExplorer()">
                    <h3>ğŸ•’ Timeline Explorer</h3>
                    <p>Travel through 500 years of American history from Native Americans to the Constitution</p>
                </div>
                
                <div class="history-card" onclick="showColonialLife()">
                    <h3>ğŸ˜ï¸ Colonial Life</h3>
                    <p>Experience daily life as a colonist - work, trade, and survive in early America</p>
                </div>
                
                <div class="history-card" onclick="showRevolutionCenter()">
                    <h3>âš”ï¸ Revolution Center</h3>
                    <p>Make choices during the Revolutionary War - Patriot or Loyalist?</p>
                </div>
                
                <div class="history-card" onclick="showFoundingFathers()">
                    <h3>ğŸ‘¨â€ğŸ’¼ Founding Fathers</h3>
                    <p>Meet the leaders who shaped America's government and Constitution</p>
                </div>
            </div>

            <!-- Timeline Explorer Section -->
            <div id="timelineExplorer" class="content-section" style="display: none;">
                <h2>ğŸ•’ American History Timeline</h2>
                <div class="timeline-controls">
                    <div class="period-buttons">
                        <button type="button" id="native-btn" class="timeline-btn active" onclick="showPeriod('native')">Native Americans</button>
                        <button type="button" id="exploration-btn" class="timeline-btn" onclick="showPeriod('exploration')">European Exploration</button>
                        <button type="button" id="colonial-btn" class="timeline-btn" onclick="showPeriod('colonial')">Colonial Period</button>
                        <button type="button" id="revolution-btn" class="timeline-btn" onclick="showPeriod('revolution')">Revolution</button>
                        <button type="button" id="founding-btn" class="timeline-btn" onclick="showPeriod('founding')">Founding the Nation</button>
                    </div>
                </div>

                <!-- Timeline Periods -->
                <div id="native-period" class="timeline-period">
                    <h3>ğŸ•ï¸ Native American Civilizations (Before 1492)</h3>
                    <div class="timeline-events">
                        <div class="timeline-event" onclick="showEventDetails('event1')">
                            <h4>ğŸŒ‰ First Americans Arrive</h4>
                            <p>15,000+ years ago - First people cross land bridge from Asia</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('event2')">
                            <h4>ğŸ™ï¸ Great Cities Built</h4>
                            <p>1000 CE - Advanced civilizations like Cahokia flourish</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('event3')">
                            <h4>ğŸ—ºï¸ 500+ Distinct Tribes</h4>
                            <p>1400s - Diverse cultures across all of North America</p>
                        </div>
                    </div>
                    
                    <!-- Native American Tribes Explorer -->
                    <div class="tribes-explorer">
                        <h4>ğŸ•ï¸ Explore Native American Tribes</h4>
                        <div class="tribe-buttons">
                            <button type="button" class="tribe-btn" onclick="showTribeInfo('iroquois')">Iroquois Confederacy</button>
                            <button type="button" class="tribe-btn" onclick="showTribeInfo('pueblo')">Pueblo Peoples</button>
                            <button type="button" class="tribe-btn" onclick="showTribeInfo('plains')">Plains Tribes</button>
                            <button type="button" class="tribe-btn" onclick="showTribeInfo('coastal')">Pacific Northwest</button>
                        </div>
                        <div id="tribe-info" class="info-display">
                            <p>Select a tribe to learn about their way of life!</p>
                        </div>
                    </div>
                </div>

                <div id="exploration-period" class="timeline-period" style="display: none;">
                    <h3>â›µ European Exploration (1492-1607)</h3>
                    <div class="timeline-events">
                        <div class="timeline-event" onclick="showEventDetails('columbus')">
                            <h4>ğŸŒ Columbus Reaches Americas</h4>
                            <p>1492 - Two worlds meet, changing history forever</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('conquistadors')">
                            <h4>âš”ï¸ Spanish Conquistadors</h4>
                            <p>1500s - Spain conquers vast territories seeking gold</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('other-europeans')">
                            <h4>ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ğŸ‡«ğŸ‡·ğŸ‡³ğŸ‡± European Competition</h4>
                            <p>1500s-1600s - France, England, Netherlands compete for land</p>
                        </div>
                    </div>
                    
                    <!-- Explorer Simulation -->
                    <div class="explorer-simulation">
                        <h4>â›µ Plan Your Exploration</h4>
                        <p>You're an explorer preparing for a voyage to the New World. What will you bring?</p>
                        <div class="supply-choices">
                            <label><input type="checkbox" value="ships"> Strong ships for ocean travel</label>
                            <label><input type="checkbox" value="gold"> Gold to trade with natives</label>
                            <label><input type="checkbox" value="weapons"> Weapons for protection</label>
                            <label><input type="checkbox" value="food"> Preserved food for the journey</label>
                            <label><input type="checkbox" value="medicine"> Medicine for illness</label>
                            <label><input type="checkbox" value="clergy"> Priests to convert natives</label>
                        </div>
                        <button type="button" onclick="evaluateExplorerChoices()" class="evaluation-btn">Evaluate My Choices</button>
                        <div id="explorer-feedback" class="feedback-display" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <div id="colonial-period" class="timeline-period" style="display: none;">
                    <h3>ğŸ˜ï¸ Colonial Period (1607-1763)</h3>
                    <div class="timeline-events">
                        <div class="timeline-event" onclick="showEventDetails('jamestown')">
                            <h4>ğŸ¡ Jamestown Founded</h4>
                            <p>1607 - First permanent English settlement in America</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('plymouth')">
                            <h4>ğŸ™ Plymouth Colony</h4>
                            <p>1620 - Pilgrims seek religious freedom, create Mayflower Compact</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('13colonies')">
                            <h4>ğŸ—ºï¸ 13 Colonies Established</h4>
                            <p>1607-1732 - English colonies grow from Virginia to Georgia</p>
                        </div>
                    </div>
                    
                    <!-- Colony Builder -->
                    <div class="colony-builder">
                        <h4>ğŸ›ï¸ Build Your Colony</h4>
                        <p>Choose your colony's location, purpose, and economy:</p>
                        
                        <div class="colony-choices">
                            <div class="choice-group">
                                <h5>ğŸ“ Location:</h5>
                                <label><input type="radio" name="location" value="north"> New England (cold, rocky soil)</label>
                                <label><input type="radio" name="location" value="middle"> Middle Colonies (moderate climate, good soil)</label>
                                <label><input type="radio" name="location" value="south"> Southern Colonies (warm, fertile land)</label>
                            </div>
                            
                            <div class="choice-group">
                                <h5>ğŸ¯ Main Purpose:</h5>
                                <label><input type="radio" name="reason" value="religious"> Religious Freedom</label>
                                <label><input type="radio" name="reason" value="economic"> Economic Opportunity</label>
                                <label><input type="radio" name="reason" value="land"> Land Ownership</label>
                            </div>
                            
                            <div class="choice-group">
                                <h5>ğŸ’¼ Economy:</h5>
                                <label><input type="radio" name="economy" value="farming"> Agriculture</label>
                                <label><input type="radio" name="economy" value="trade"> Trade & Commerce</label>
                                <label><input type="radio" name="economy" value="crafts"> Crafts & Manufacturing</label>
                            </div>
                        </div>
                        
                        <button type="button" onclick="createColony()" class="build-btn">Found My Colony!</button>
                        <div id="colony-result" class="result-display" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <div id="revolution-period" class="timeline-period" style="display: none;">
                    <h3>âš”ï¸ Revolutionary War (1763-1783)</h3>
                    <div class="timeline-events">
                        <div class="timeline-event" onclick="showEventDetails('taxes')">
                            <h4>ğŸ’¸ British Taxes</h4>
                            <p>1760s - "No taxation without representation!"</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('boston')">
                            <h4>ğŸ«– Boston Tea Party</h4>
                            <p>1773 - Colonists dump tea in Boston Harbor</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('declaration')">
                            <h4>ğŸ“œ Declaration of Independence</h4>
                            <p>1776 - America declares independence from Britain</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('victory')">
                            <h4>ğŸ‰ Victory!</h4>
                            <p>1783 - America wins independence with help from allies</p>
                        </div>
                    </div>
                </div>

                <div id="founding-period" class="timeline-period" style="display: none;">
                    <h3>ğŸ›ï¸ Founding the Nation (1783-1800)</h3>
                    <div class="timeline-events">
                        <div class="timeline-event" onclick="showEventDetails('articles')">
                            <h4>ğŸ“‹ Articles of Confederation</h4>
                            <p>1781 - First government proves too weak</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('convention')">
                            <h4>ğŸ›ï¸ Constitutional Convention</h4>
                            <p>1787 - Creating a new government system</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('constitution')">
                            <h4>ğŸ“œ Constitution Ratified</h4>
                            <p>1788 - New government with three branches</p>
                        </div>
                        <div class="timeline-event" onclick="showEventDetails('washington')">
                            <h4>ğŸ‡ºğŸ‡¸ Washington Becomes President</h4>
                            <p>1789 - First President sets important precedents</p>
                        </div>
                    </div>
                    
                    <!-- Constitutional Convention Simulation -->
                    <div class="constitution-simulation">
                        <h4>ğŸ›ï¸ Constitutional Convention Challenges</h4>
                        <p>Help solve the same problems the Founding Fathers faced:</p>
                        
                        <div class="constitutional-issues">
                            <div class="issue">
                                <h5>ğŸ˜ï¸ How should states be represented in Congress?</h5>
                                <label><input type="radio" name="representation" value="population"> By population (larger states get more votes)</label>
                                <label><input type="radio" name="representation" value="equal"> Equal representation (each state gets same votes)</label>
                                <label><input type="radio" name="representation" value="both"> Both - two houses with different systems</label>
                            </div>
                            
                            <div class="issue">
                                <h5>âš–ï¸ How should power be divided?</h5>
                                <label><input type="radio" name="power" value="federal"> Strong federal government</label>
                                <label><input type="radio" name="power" value="states"> Strong state governments</label>
                                <label><input type="radio" name="power" value="balanced"> Balanced between federal and state</label>
                            </div>
                            
                            <div class="issue">
                                <h5>ğŸ“œ Should individual rights be specifically protected?</h5>
                                <label><input type="radio" name="rights" value="yes"> Yes - add a Bill of Rights immediately</label>
                                <label><input type="radio" name="rights" value="no"> No - the Constitution is enough</label>
                                <label><input type="radio" name="rights" value="later"> Add rights protections later</label>
                            </div>
                        </div>
                        
                        <button type="button" onclick="solveConstitutionalIssues()" class="solve-btn">Solve the Issues!</button>
                        <div id="constitution-result" class="result-display" role="status" aria-live="polite"></div>
                    </div>
                </div>
            </div>

            <!-- Colonial Life Section -->
            <div id="colonialLife" class="content-section" style="display: none;">
                <h2>ğŸ˜ï¸ Colonial Life Experience</h2>
                <div class="colonial-tabs">
                    <button type="button" class="tab-button active" onclick="showColonialTab('daily', this)">Daily Life</button>
                    <button type="button" class="tab-button" onclick="showColonialTab('trades', this)">Colonial Jobs</button>
                    <button type="button" class="tab-button" onclick="showColonialTab('town', this)">Town Buildings</button>
                    <button type="button" class="tab-button" onclick="showColonialTab('survival', this)">Survival Challenge</button>
                </div>

                <!-- Daily Life Tab -->
                <div id="daily-tab" class="colonial-tab">
                    <h3>ğŸŒ… A Day in Colonial Life</h3>
                    <div class="daily-activities">
                        <div class="activity-time" onclick="showDailyActivity('dawn')">
                            <h4>ğŸŒ… Dawn (5:00 AM)</h4>
                            <p>Wake up with the sun, start the fire, feed animals</p>
                        </div>
                        <div class="activity-time" onclick="showDailyActivity('morning')">
                            <h4>ğŸŒ Morning (8:00 AM)</h4>
                            <p>Work begins - farming, crafts, teaching children</p>
                        </div>
                        <div class="activity-time" onclick="showDailyActivity('midday')">
                            <h4>â˜€ï¸ Midday (12:00 PM)</h4>
                            <p>Main meal of the day and brief rest</p>
                        </div>
                        <div class="activity-time" onclick="showDailyActivity('evening')">
                            <h4>ğŸŒ… Evening (6:00 PM)</h4>
                            <p>Supper, family time, early to bed</p>
                        </div>
                    </div>
                    <div id="daily-activity-details" class="info-display">
                        <p>Click on a time of day to learn about colonial daily activities!</p>
                    </div>
                </div>

                <!-- Colonial Jobs Tab -->
                <div id="trades-tab" class="colonial-tab" style="display: none;">
                    <h3>âš’ï¸ Colonial Jobs and Trades</h3>
                    <div class="jobs-grid">
                        <div class="job-card" onclick="exploreJob('blacksmith')">
                            <h4>âš’ï¸ Blacksmith</h4>
                            <p>Village metalworker</p>
                        </div>
                        <div class="job-card" onclick="exploreJob('farmer')">
                            <h4>ğŸŒ¾ Farmer</h4>
                            <p>Food provider</p>
                        </div>
                        <div class="job-card" onclick="exploreJob('carpenter')">
                            <h4>ğŸªš Carpenter</h4>
                            <p>Builder & craftsman</p>
                        </div>
                        <div class="job-card" onclick="exploreJob('tailor')">
                            <h4>âœ‚ï¸ Tailor</h4>
                            <p>Clothing maker</p>
                        </div>
                        <div class="job-card" onclick="exploreJob('baker')">
                            <h4>ğŸ Baker</h4>
                            <p>Bread & food</p>
                        </div>
                        <div class="job-card" onclick="exploreJob('teacher')">
                            <h4>ğŸ“š Teacher</h4>
                            <p>Educator</p>
                        </div>
                    </div>
                    <div id="job-details" class="info-display">
                        <p>Select a job to learn about colonial trades and crafts!</p>
                    </div>
                </div>

                <!-- Town Buildings Tab -->
                <div id="town-tab" class="colonial-tab" style="display: none;">
                    <h3>ğŸ›ï¸ Important Town Buildings</h3>
                    <div class="buildings-grid">
                        <div class="building-card" onclick="visitBuilding('church')">
                            <h4>â›ª Church</h4>
                            <p>Community center</p>
                        </div>
                        <div class="building-card" onclick="visitBuilding('market')">
                            <h4>ğŸ›’ Market Square</h4>
                            <p>Trade center</p>
                        </div>
                        <div class="building-card" onclick="visitBuilding('school')">
                            <h4>ğŸ« Schoolhouse</h4>
                            <p>Learning center</p>
                        </div>
                        <div class="building-card" onclick="visitBuilding('tavern')">
                            <h4>ğŸº Tavern</h4>
                            <p>Social hub</p>
                        </div>
                        <div class="building-card" onclick="visitBuilding('mill')">
                            <h4>ğŸŒ¾ Grist Mill</h4>
                            <p>Food processing</p>
                        </div>
                    </div>
                    <div id="building-info" class="info-display">
                        <p>Visit a building to learn about colonial community life!</p>
                    </div>
                </div>

                <!-- Survival Challenge Tab -->
                <div id="survival-tab" class="colonial-tab" style="display: none;">
                    <h3>ğŸ’ª Colonial Survival Challenge</h3>
                    <p>Can you survive as a colonist? Make decisions to keep your family healthy, fed, and sheltered!</p>
                    
                    <div class="survival-stats">
                        <div class="stat-item">
                            <span class="stat-label">â¤ï¸ Health:</span>
                            <span id="health" class="stat-value">100</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ğŸ– Food:</span>
                            <span id="food" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ğŸ  Shelter:</span>
                            <span id="shelter" class="stat-value">25</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ğŸ’° Money:</span>
                            <span id="money" class="stat-value">100</span>
                        </div>
                    </div>
                    
                    <button type="button" onclick="startSurvivalChallenge()" class="survival-btn">ğŸš€ Start Challenge</button>
                    
                    <div id="survival-scenario" class="scenario-display">
                        <p>Click "Start Challenge" to begin your colonial survival adventure!</p>
                    </div>
                    
                    <div id="survival-choices" class="choice-buttons" style="display: none;">
                        <button type="button" id="choice-A" onclick="makeChoice('A')">Choice A</button>
                        <button type="button" id="choice-B" onclick="makeChoice('B')">Choice B</button>
                        <button type="button" id="choice-C" onclick="makeChoice('C')">Choice C</button>
                    </div>
                    
                    <div id="survival-result" class="result-display" role="status" aria-live="polite"></div>
                </div>
            </div>

            <!-- Revolution Center Section -->
            <div id="revolutionCenter" class="content-section" style="display: none;">
                <h2>âš”ï¸ Revolution Center</h2>
                <div class="revolution-tabs">
                    <button type="button" class="tab-button active" onclick="showRevolutionTab('causes', this)">Causes & Effects</button>
                    <button type="button" class="tab-button" onclick="showRevolutionTab('battles', this)">Key Battles</button>
                    <button type="button" class="tab-button" onclick="showRevolutionTab('heroes', this)">Revolutionary Heroes</button>
                    <button type="button" class="tab-button" onclick="showRevolutionTab('declaration', this)">Declaration Deep Dive</button>
                    <button type="button" class="tab-button" onclick="showRevolutionTab('decisions', this)">Patriot vs Loyalist</button>
                </div>

                <div id="revolution-content" class="revolution-display">
                    <div id="causes-tab" class="revolution-tab">
                        <h3>ğŸ“‹ Why Did the American Revolution Happen?</h3>
                        <div class="causes-effects">
                            <div class="cause-card">
                                <h4>ğŸ’° Taxes Without Representation</h4>
                                <p>Britain taxed the colonists but didn't let them vote in the British Parliament. "No taxation without representation!" became their rallying cry.</p>
                            </div>
                            <div class="cause-card">
                                <h4>ğŸª– British Soldiers in Towns</h4>
                                <p>Britain sent soldiers to live in colonial towns, which made colonists feel like they were being controlled by a foreign army.</p>
                            </div>
                            <div class="cause-card">
                                <h4>ğŸ“œ Unfair Laws</h4>
                                <p>Laws like the Stamp Act and Tea Act hurt colonial businesses and daily life, while benefiting British companies.</p>
                            </div>
                            <div class="cause-card">
                                <h4>ğŸ—½ Desire for Self-Government</h4>
                                <p>Colonists had been governing themselves for over 100 years and didn't want Britain making all their decisions.</p>
                            </div>
                        </div>
                        <p><strong>The Result:</strong> These causes led to protests, boycotts, and eventually armed conflict between Britain and the American colonies.</p>
                    </div>
                </div>

                <!-- Patriot vs Loyalist Decision Center -->
                <div class="decision-center">
                    <h3>ğŸ¤” You Decide: Patriot or Loyalist?</h3>
                    <button type="button" onclick="generateRevolutionScenario()" class="scenario-btn">ğŸ² Get Revolution Scenario</button>
                    
                    <div id="current-scenario" class="scenario-display">
                        <p>Click above to get a revolutionary dilemma and choose your side!</p>
                    </div>
                    
                    <div class="decision-buttons">
                        <button type="button" class="patriot-btn" onclick="choosePatriot()" style="display: none;">ğŸ‡ºğŸ‡¸ Choose Patriot Side</button>
                        <button type="button" class="loyalist-btn" onclick="chooseLoyalist()" style="display: none;">ğŸ‡¬ğŸ‡§ Choose Loyalist Side</button>
                    </div>
                    
                    <div id="revolution-feedback" class="feedback-display" role="status" aria-live="polite"></div>
                </div>
            </div>

            <!-- Founding Fathers Section -->
            <div id="foundingFathers" class="content-section" style="display: none;">
                <h2>ğŸ‘¨â€ğŸ’¼ Meet the Founding Fathers</h2>
                <div class="founders-grid">
                    <div class="founder-card" onclick="showFounderProfile('washington')">
                        <h3>ğŸ† George Washington</h3>
                        <p>"Father of His Country"</p>
                    </div>
                    <div class="founder-card" onclick="showFounderProfile('franklin')">
                        <h3>âš¡ Benjamin Franklin</h3>
                        <p>"The Renaissance Man"</p>
                    </div>
                    <div class="founder-card" onclick="showFounderProfile('jefferson')">
                        <h3>âœï¸ Thomas Jefferson</h3>
                        <p>"Man of the People"</p>
                    </div>
                    <div class="founder-card" onclick="showFounderProfile('adams')">
                        <h3>âš–ï¸ John Adams</h3>
                        <p>"Atlas of Independence"</p>
                    </div>
                    <div class="founder-card" onclick="showFounderProfile('hamilton')">
                        <h3>ğŸ’° Alexander Hamilton</h3>
                        <p>"The Financial Genius"</p>
                    </div>
                    <div class="founder-card" onclick="showFounderProfile('madison')">
                        <h3>ğŸ“œ James Madison</h3>
                        <p>"Father of the Constitution"</p>
                    </div>
                </div>
                
                <div id="founder-profile" class="founder-details">
                    <p>Click on a Founding Father above to learn about their life and contributions to America!</p>
                </div>
            </div>
            
            <!-- Daily Challenge -->
            <div class="daily-challenge">
                <h3>ğŸ“š Today's History Challenge</h3>
                <p>Test your knowledge of American History!</p>
                <div id="challenge-question">
                    <p><strong>Question:</strong> Which Native American confederacy influenced the U.S. Constitution with their democratic government system?</p>
                    <div class="challenge-options">
                        <button type="button" onclick="checkChallenge('iroquois')">Iroquois Confederacy</button>
                        <button type="button" onclick="checkChallenge('pueblo')">Pueblo Peoples</button>
                        <button type="button" onclick="checkChallenge('plains')">Plains Tribes</button>
                        <button type="button" onclick="checkChallenge('coastal')">Pacific Northwest Tribes</button>
                    </div>
                    <div id="challenge-result" role="status" aria-live="polite"></div>
                </div>
            </div>

        </main>

        <!-- Footer will be loaded here -->
        <div id="footer-container"></div>
    </div>

    <!-- JavaScript -->
    <script src="../../js/interactive.js" defer></script>
    <script>
        // Shared component loader
        async function loadSharedComponents() {
            try {
                const headerResponse = await fetch('../shared/header.html');
                const footerResponse = await fetch('../shared/footer.html');
                
                if (headerResponse.ok) {
                    document.getElementById('header-container').innerHTML = await headerResponse.text();
                }
                
                if (footerResponse.ok) {
                    document.getElementById('footer-container').innerHTML = await footerResponse.text();
                }
                
                // Hide loading screen and show app
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                
            } catch (error) {
                console.error('Error loading shared components:', error);
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            }
        }
        
        // Load shared components when page loads
        document.readyState === 'loading' ? document.addEventListener('DOMContentLoaded', loadSharedComponents) : loadSharedComponents();

        // Chapter 1 American History JavaScript
        let currentPeriod = 'native';

        const historicalData = {
            tribes: {
                iroquois: {
                    name: 'Iroquois Confederacy',
                    location: 'Northeast (New York area)',
                    lifestyle: 'The Iroquois lived in longhouses and were skilled farmers, growing corn, beans, and squash (the "Three Sisters"). They formed a powerful confederacy of six nations with a democratic government that influenced the U.S. Constitution.',
                    government: 'Democratic confederacy with elected chiefs and women choosing leaders',
                    culture: 'Known for their Great Law of Peace and sophisticated political system'
                },
                pueblo: {
                    name: 'Pueblo Peoples',
                    location: 'Southwest (Arizona, New Mexico)',
                    lifestyle: 'The Pueblo peoples built amazing cliff dwellings and adobe cities. They were expert farmers who developed irrigation systems to grow crops in the desert. They created beautiful pottery and textiles.',
                    government: 'Village councils made important decisions together',
                    culture: 'Master builders and artists, with strong spiritual connections to the land'
                },
                plains: {
                    name: 'Plains Tribes (Lakota, Cheyenne, etc.)',
                    location: 'Great Plains (Montana to Texas)',
                    lifestyle: 'Plains tribes were skilled horsemen and buffalo hunters. They lived in portable tepees and followed buffalo herds across the grasslands. Buffalo provided them with food, clothing, and tools.',
                    government: 'Chiefs and councils led by warrior societies',
                    culture: 'Rich oral traditions, elaborate ceremonies, and deep respect for nature'
                },
                coastal: {
                    name: 'Pacific Northwest Tribes',
                    location: 'Pacific Coast (Washington, Oregon, California)',
                    lifestyle: 'Coastal tribes were master fishermen and canoe builders. They lived in cedar plank houses and carved magnificent totem poles. The ocean and forests provided everything they needed.',
                    government: 'Chiefs inherited positions and held potlatch ceremonies',
                    culture: 'Renowned for artistic woodcarving, weaving, and storytelling'
                }
            }
        };

        // Main Navigation Functions
        function showTimelineExplorer() {
            hideAllSections();
            document.getElementById('timelineExplorer').style.display = 'block';
            showPeriod('native');
        }
        
        function showColonialLife() {
            hideAllSections();
            document.getElementById('colonialLife').style.display = 'block';
            showColonialTab('daily');
        }
        
        function showRevolutionCenter() {
            hideAllSections();
            document.getElementById('revolutionCenter').style.display = 'block';
        }
        
        function showFoundingFathers() {
            hideAllSections();
            document.getElementById('foundingFathers').style.display = 'block';
        }
        
        function hideAllSections() {
            const sections = ['timelineExplorer', 'colonialLife', 'revolutionCenter', 'foundingFathers'];
            sections.forEach(section => {
                const element = document.getElementById(section);
                if (element) {
                    element.style.display = 'none';
                }
            });
        }
        
        // Timeline Functions
        function showPeriod(period) {
            // Hide all periods
            const periods = ['native', 'exploration', 'colonial', 'revolution', 'founding'];
            periods.forEach(p => {
                const periodElement = document.getElementById(p + '-period');
                const btnElement = document.getElementById(p + '-btn');
                if (periodElement) periodElement.style.display = 'none';
                if (btnElement) btnElement.classList.remove('active');
            });
            
            // Show selected period
            const selectedPeriod = document.getElementById(period + '-period');
            const selectedBtn = document.getElementById(period + '-btn');
            if (selectedPeriod) selectedPeriod.style.display = 'block';
            if (selectedBtn) selectedBtn.classList.add('active');
            currentPeriod = period;
        }
        
        function showEventDetails(eventId) {
            const eventDetails = {
                'event1': 'The first Americans likely crossed a land bridge from Asia during the last Ice Age, following animals and looking for new lands.',
                'event2': 'By 1000 CE, Native Americans had built sophisticated cities like Cahokia and developed advanced farming techniques.',
                'event3': 'By the 1400s, there were over 500 distinct Native American tribes, each with their own language, culture, and way of life.',
                'columbus': 'Christopher Columbus\'s voyage in 1492 began permanent contact between Europe and the Americas, changing both worlds forever.',
                'conquistadors': 'Spanish conquistadors like CortÃ©s and Pizarro conquered vast territories, seeking gold and spreading Christianity.',
                'other-europeans': 'France, England, and the Netherlands competed for land and trade, establishing their own colonies.',
                'jamestown': 'Jamestown was the first permanent English settlement, struggling with disease, starvation, and conflicts with Native Americans.',
                'plymouth': 'The Pilgrims came seeking religious freedom and signed the Mayflower Compact, an early form of self-government.',
                '13colonies': 'Each of the 13 colonies developed its own character: New England (trade, crafts), Middle (farming, tolerance), Southern (plantations).',
                'taxes': 'After the French and Indian War, Britain taxed the colonies to pay war debts, leading to the cry "No taxation without representation!"',
                'boston': 'Colonists disguised as Native Americans dumped British tea into Boston Harbor to protest the Tea Act.',
                'declaration': 'Thomas Jefferson wrote that "all men are created equal" and listed grievances against King George III.',
                'victory': 'With help from France, Spain, and the Netherlands, America won independence and became a free nation.',
                'articles': 'The first government was too weak to solve the nation\'s problems, leading to the need for a stronger Constitution.',
                'convention': '55 delegates met in Philadelphia to create a new form of government with three branches and checks and balances.',
                'constitution': 'The Constitution created a federal system where power is shared between national and state governments.',
                'washington': 'George Washington set many precedents, including the peaceful transfer of power and the two-term tradition.'
            };
            
            if (eventDetails[eventId]) {
                alert('ğŸ“š Historical Detail:\n\n' + eventDetails[eventId]);
            }
        }
        
        function showTribeInfo(tribe) {
            const tribeData = historicalData.tribes[tribe];
            if (tribeData) {
                document.getElementById('tribe-info').innerHTML = `
                    <h4>${tribeData.name}</h4>
                    <p><strong>ğŸ“ Location:</strong> ${tribeData.location}</p>
                    <p><strong>ğŸ  Lifestyle:</strong> ${tribeData.lifestyle}</p>
                    <p><strong>ğŸ›ï¸ Government:</strong> ${tribeData.government}</p>
                    <p><strong>ğŸ¨ Culture:</strong> ${tribeData.culture}</p>
                `;
            }
        }
        
        function evaluateExplorerChoices() {
            const choices = document.querySelectorAll('.supply-choices input:checked');
            const selectedValues = Array.from(choices).map(cb => cb.value);
            
            const feedback = document.getElementById('explorer-feedback');
            const goodChoices = ['ships', 'food', 'medicine'];
            const score = selectedValues.filter(choice => goodChoices.includes(choice)).length;
            
            let message = '';
            if (score === 3) {
                message = 'ğŸŒŸ Excellent! You made the most important choices for survival and exploration.';
            } else if (score === 2) {
                message = 'ğŸ‘ Good choices! You selected most of the essential items.';
            } else {
                message = 'ğŸ¤­ Think about what explorers would need most for long ocean voyages and survival in unknown lands.';
            }
            
            feedback.innerHTML = `<p>${message}</p>`;
        }
        
        function createColony() {
            const location = document.querySelector('input[name="location"]:checked');
            const reason = document.querySelector('input[name="reason"]:checked');
            const economy = document.querySelector('input[name="economy"]:checked');
            
            if (!location || !reason || !economy) {
                alert('Please make all your colonial decisions first!');
                return;
            }
            
            const colonyTypes = {
                north: 'New England Colony',
                middle: 'Middle Colony',
                south: 'Southern Colony'
            };
            
            const result = document.getElementById('colony-result');
            result.innerHTML = `
                <h4>ğŸ›ï¸ Your ${colonyTypes[location.value]} is Founded!</h4>
                <p><strong>âš–ï¸ Main Purpose:</strong> ${reason.value === 'religious' ? 'Religious Freedom' : reason.value === 'economic' ? 'Economic Opportunity' : 'Land Ownership'}</p>
                <p><strong>ğŸ’¼ Main Industry:</strong> ${economy.value === 'farming' ? 'Agriculture' : economy.value === 'trade' ? 'Trade and Commerce' : 'Crafts and Manufacturing'}</p>
                <p>Your colony will face challenges but grow with hard work and determination!</p>
            `;
        }
        
        function solveConstitutionalIssues() {
            const representation = document.querySelector('input[name="representation"]:checked');
            const power = document.querySelector('input[name="power"]:checked');
            const rights = document.querySelector('input[name="rights"]:checked');
            
            if (!representation || !power || !rights) {
                alert('Please answer all constitutional questions!');
                return;
            }
            
            const result = document.getElementById('constitution-result');
            let score = 0;
            let feedback = [];
            
            if (representation.value === 'both') {
                score++;
                feedback.push('âœ… Correct! The Great Compromise created two houses - House (by population) and Senate (equal).');
            } else {
                feedback.push('âŒ The Great Compromise solved this by creating two houses of Congress.');
            }
            
            if (power.value === 'balanced') {
                score++;
                feedback.push('âœ… Correct! Federalism balances power between federal and state governments.');
            } else {
                feedback.push('âŒ The Constitution created federalism - shared power between levels of government.');
            }
            
            if (rights.value === 'yes' || rights.value === 'later') {
                score++;
                feedback.push('âœ… Correct! The Bill of Rights was added to protect individual freedoms.');
            } else {
                feedback.push('âŒ The Bill of Rights was essential to protect people\'s freedoms.');
            }
            
            result.innerHTML = `
                <h4>ğŸ›ï¸ Constitutional Convention Results</h4>
                <p><strong>Your Score: ${score}/3</strong></p>
                <div style="margin: var(--spacing-md) 0;">${feedback.map(f => `<p style="padding: 0.25rem 0;">${f}</p>`).join('')}</div>
                <p>The real Constitutional Convention faced these same difficult decisions!</p>
            `;
        }
        
        // Colonial Life Interactive Functions
        function showColonialTab(tabName, triggerEl) {
            // Hide all colonial tabs
            const tabs = document.querySelectorAll('.colonial-tab');
            tabs.forEach(tab => tab.style.display = 'none');
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.colonial-tabs .tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked button
            const targetButton = triggerEl || Array.from(buttons).find(btn => {
                const handler = btn.getAttribute('onclick') || '';
                return handler.includes(`'${tabName}'`) || handler.includes(`\"${tabName}\"`);
            });
            if (targetButton) targetButton.classList.add('active');
        }
        
        function showDailyActivity(timeOfDay) {
            const activities = {
                dawn: {
                    title: 'ğŸŒ… Dawn (5:00 AM)',
                    activity: 'Wake up before sunrise',
                    description: 'Colonial families woke up early to make the most of daylight. There was no electricity, so they had to work with the sun!',
                    tasks: ['Light the fireplace', 'Milk the cow', 'Feed the chickens', 'Collect eggs']
                },
                morning: {
                    title: 'ğŸŒ¤ï¸ Morning (8:00 AM)', 
                    activity: 'Breakfast and daily work',
                    description: 'After morning chores, families ate a simple breakfast of porridge, bread, or leftover stew.',
                    tasks: ['Eat breakfast', 'Tend the garden', 'Repair tools', 'Prepare for work']
                },
                midday: {
                    title: 'â˜€ï¸ Midday (12:00 PM)',
                    activity: 'Main meal and work',
                    description: 'The largest meal of the day! Families worked hard and needed lots of energy.',
                    tasks: ['Prepare dinner (main meal)', 'Work in fields or shop', 'Trade with neighbors', 'Teach children']
                },
                evening: {
                    title: 'ğŸŒ† Evening (6:00 PM)',
                    activity: 'Family time and rest',
                    description: 'As darkness fell, families gathered for simple evening activities before early bedtime.',
                    tasks: ['Light candles', 'Share stories', 'Mend clothes', 'Go to bed early']
                }
            };
            
            const activity = activities[timeOfDay];
            const display = document.getElementById('activity-info');
            
            display.innerHTML = `
                <div class="activity-detail">
                    <h4>${activity.title}</h4>
                    <h5>${activity.activity}</h5>
                    <p>${activity.description}</p>
                    <h6>Daily Tasks:</h6>
                    <ul>
                        ${activity.tasks.map(task => `<li>${task}</li>`).join('')}
                    </ul>
                </div>
            `;
        }
        
        function exploreJob(jobType) {
            const jobs = {
                blacksmith: {
                    title: 'ğŸ”¨ Blacksmith',
                    description: 'The blacksmith was essential to colonial life, making and repairing metal tools.',
                    dailyWork: 'Heat iron in a forge, hammer metal into tools, repair broken farm equipment',
                    importance: 'Without blacksmiths, colonists couldn\'t have horseshoes, nails, or farm tools!',
                    skills: ['Working with fire and metal', 'Physical strength', 'Tool-making knowledge']
                },
                farmer: {
                    title: 'ğŸŒ¾ Farmer',
                    description: 'Most colonists were farmers, growing food for their families and communities.',
                    dailyWork: 'Plant crops, tend animals, harvest grain, preserve food for winter',
                    importance: 'Farmers fed the entire community and made survival possible!',
                    skills: ['Knowledge of seasons', 'Animal care', 'Food preservation']
                },
                carpenter: {
                    title: 'ğŸªš Carpenter',
                    description: 'Carpenters built the houses, furniture, and wooden tools colonists needed.',
                    dailyWork: 'Cut lumber, build houses, make furniture, repair buildings',
                    importance: 'Every building and piece of furniture was handmade by skilled carpenters!',
                    skills: ['Woodworking', 'Building design', 'Tool crafting']
                },
                tailor: {
                    title: 'ğŸ§µ Tailor',
                    description: 'Tailors made and repaired the clothes that kept colonists warm and presentable.',
                    dailyWork: 'Sew clothes, repair tears, measure customers, work with different fabrics',
                    importance: 'All clothing was handmade - there were no clothing stores!',
                    skills: ['Sewing and mending', 'Fabric knowledge', 'Design skills']
                },
                baker: {
                    title: 'ğŸ Baker',
                    description: 'Bakers provided bread and baked goods for the community.',
                    dailyWork: 'Grind grain into flour, bake bread and pastries, tend the ovens',
                    importance: 'Bread was a main food source - bakers kept the community fed!',
                    skills: ['Baking techniques', 'Grain knowledge', 'Oven management']
                },
                teacher: {
                    title: 'ğŸ“š Teacher',
                    description: 'Teachers educated colonial children in reading, writing, and arithmetic.',
                    dailyWork: 'Teach reading and writing, manage the classroom, discipline students',
                    importance: 'Education was highly valued - teachers prepared children for adult life!',
                    skills: ['Reading and writing', 'Patience and discipline', 'Knowledge of subjects']
                }
            };
            
            const job = jobs[jobType];
            const display = document.getElementById('job-info');
            
            display.innerHTML = `
                <div class="job-detail">
                    <h4>${job.title}</h4>
                    <p><strong>What they did:</strong> ${job.description}</p>
                    <p><strong>Daily work:</strong> ${job.dailyWork}</p>
                    <p><strong>Why important:</strong> ${job.importance}</p>
                    <h6>Skills needed:</h6>
                    <ul>
                        ${job.skills.map(skill => `<li>${skill}</li>`).join('')}
                    </ul>
                </div>
            `;
        }
        
        function visitBuilding(buildingType) {
            const buildings = {
                church: {
                    title: 'â›ª Colonial Church',
                    description: 'The church was the center of community life where everyone gathered.',
                    activities: ['Sunday worship services', 'Community meetings', 'Weddings and celebrations', 'Education for children'],
                    importance: 'Churches brought the community together and were often the first buildings built in new towns.',
                    funFact: 'Many colonial churches had no heat - people brought hot coals in metal containers to keep warm!'
                },
                market: {
                    title: 'ğŸª Town Market', 
                    description: 'The market was where colonists bought, sold, and traded goods.',
                    activities: ['Trading crops and goods', 'Meeting neighbors', 'Learning news', 'Buying supplies'],
                    importance: 'Markets allowed colonists to get things they couldn\'t make themselves.',
                    funFact: 'There was no paper money - colonists often traded goods instead of using coins!'
                },
                school: {
                    title: 'ğŸ« One-Room Schoolhouse',
                    description: 'Colonial schools were small buildings where children of all ages learned together.',
                    activities: ['Learning reading and writing', 'Arithmetic lessons', 'Memorizing Bible verses', 'Practicing penmanship'],
                    importance: 'Education helped children become productive members of society.',
                    funFact: 'Students wrote on slates (small blackboards) because paper was expensive!'
                },
                tavern: {
                    title: 'ğŸº Colonial Tavern',
                    description: 'Taverns were gathering places where travelers stayed and locals socialized.',
                    activities: ['Sharing news and gossip', 'Playing games', 'Meetings and discussions', 'Providing lodging'],
                    importance: 'Taverns were communication centers where people learned about events in other towns.',
                    funFact: 'Taverns often served as courthouses, post offices, and meeting halls!'
                },
                mill: {
                    title: 'ğŸŒ¾ Grist Mill',
                    description: 'Mills used water power to grind grain into flour for bread and cooking.',
                    activities: ['Grinding corn and wheat', 'Processing grain', 'Community gathering', 'Trading flour'],
                    importance: 'Mills were essential for turning grain into usable flour for cooking.',
                    funFact: 'The miller was paid by keeping a portion of every farmer\'s grain - usually 1/8th!'
                }
            };
            
            const building = buildings[buildingType];
            const display = document.getElementById('building-info');
            
            display.innerHTML = `
                <div class="building-detail">
                    <h4>${building.title}</h4>
                    <p><strong>What it was:</strong> ${building.description}</p>
                    <h6>Activities that happened here:</h6>
                    <ul>
                        ${building.activities.map(activity => `<li>${activity}</li>`).join('')}
                    </ul>
                    <p><strong>Why important:</strong> ${building.importance}</p>
                    <p><strong>Fun fact:</strong> ${building.funFact}</p>
                </div>
            `;
        }
        
        // Survival Challenge Game Logic
        let survivalStats = {
            health: 100,
            food: 50,
            shelter: 25,
            money: 100,
            day: 1,
            gameActive: false
        };
        
        const survivalScenarios = [
            {
                title: "ğŸŒ¨ï¸ Winter is Coming",
                description: "It's October and winter will be harsh. Your family needs to prepare!",
                choices: [
                    { text: "Buy extra firewood (-30 money, +15 shelter)", effect: { money: -30, shelter: 15 } },
                    { text: "Hunt for meat (-10 health, +25 food)", effect: { health: -10, food: 25 } },
                    { text: "Work extra jobs (+20 money, -15 health)", effect: { money: 20, health: -15 } }
                ]
            },
            {
                title: "ğŸ¤’ Family Member is Sick", 
                description: "Your child has a fever and needs care. What do you do?",
                choices: [
                    { text: "Visit the doctor (-50 money, +20 health)", effect: { money: -50, health: 20 } },
                    { text: "Use home remedies (-5 food, +10 health)", effect: { food: -5, health: 10 } },
                    { text: "Rest and pray (+5 health, -5 food)", effect: { health: 5, food: -5 } }
                ]
            },
            {
                title: "ğŸŒ¾ Crop Harvest Time",
                description: "Your crops are ready! But storms are coming. How do you harvest?",
                choices: [
                    { text: "Harvest quickly alone (-20 health, +30 food)", effect: { health: -20, food: 30 } },
                    { text: "Ask neighbors for help (-10 money, +40 food)", effect: { money: -10, food: 40 } },
                    { text: "Risk the weather (+50 food or -30 food)", effect: { food: Math.random() > 0.5 ? 50 : -30 } }
                ]
            },
            {
                title: "ğŸ  Roof Needs Repair",
                description: "Your roof is leaking and winter is approaching!",
                choices: [
                    { text: "Hire a carpenter (-40 money, +25 shelter)", effect: { money: -40, shelter: 25 } },
                    { text: "Fix it yourself (-15 health, +15 shelter)", effect: { health: -15, shelter: 15 } },
                    { text: "Wait until spring (-10 health per turn)", effect: { health: -10 } }
                ]
            },
            {
                title: "ğŸ¦Œ Native American Trade",
                description: "Friendly Native Americans offer to trade. What do you exchange?",
                choices: [
                    { text: "Trade tools for furs (+20 shelter, -10 money)", effect: { shelter: 20, money: -10 } },
                    { text: "Trade food for medicine (+15 health, -15 food)", effect: { health: 15, food: -15 } },
                    { text: "Decline trade politely (no change)", effect: {} }
                ]
            }
        ];
        
        let currentScenario = 0;
        
        function startSurvivalChallenge() {
            survivalStats = { health: 100, food: 50, shelter: 25, money: 100, day: 1, gameActive: true };
            currentScenario = 0;
            updateSurvivalDisplay();
            presentScenario();
        }
        
        function updateSurvivalDisplay() {
            document.getElementById('health').textContent = Math.max(0, survivalStats.health);
            document.getElementById('food').textContent = Math.max(0, survivalStats.food);
            document.getElementById('shelter').textContent = Math.max(0, survivalStats.shelter);
            document.getElementById('money').textContent = Math.max(0, survivalStats.money);
        }
        
        function presentScenario() {
            if (!survivalStats.gameActive || currentScenario >= survivalScenarios.length) {
                endGame();
                return;
            }
            
            const scenario = survivalScenarios[currentScenario];
            const scenarioDiv = document.getElementById('survival-scenario');
            const choicesDiv = document.getElementById('survival-choices');
            
            scenarioDiv.innerHTML = `
                <h4>Day ${survivalStats.day}: ${scenario.title}</h4>
                <p>${scenario.description}</p>
            `;
            
            const choiceButtons = choicesDiv.querySelectorAll('button');
            scenario.choices.forEach((choice, index) => {
                if (choiceButtons[index]) {
                    choiceButtons[index].textContent = choice.text;
                    choiceButtons[index].style.display = 'block';
                }
            });
            
            // Hide unused choice buttons
            for (let i = scenario.choices.length; i < choiceButtons.length; i++) {
                choiceButtons[i].style.display = 'none';
            }
            
            choicesDiv.style.display = 'block';
        }
        
        function makeChoice(choiceIndex) {
            const scenario = survivalScenarios[currentScenario];
            const choiceNum = choiceIndex === 'A' ? 0 : choiceIndex === 'B' ? 1 : 2;
            const choice = scenario.choices[choiceNum];
            
            if (!choice) return;
            
            // Apply effects
            Object.keys(choice.effect).forEach(stat => {
                survivalStats[stat] += choice.effect[stat];
            });
            
            // Random events
            survivalStats.food -= Math.floor(Math.random() * 5) + 3; // Daily food consumption
            
            // Check for game over conditions
            if (survivalStats.health <= 0) {
                endGame("ğŸ’€ Your family's health failed. Survival was harder than expected!");
                return;
            }
            if (survivalStats.food <= 0) {
                survivalStats.health -= 20;
                if (survivalStats.health <= 0) {
                    endGame("ğŸ– Your family ran out of food and couldn't survive the harsh conditions!");
                    return;
                }
            }
            
            // Update display and show results
            updateSurvivalDisplay();
            
            const resultDiv = document.getElementById('survival-result');
            resultDiv.innerHTML = `
                <div class="choice-result">
                    <p><strong>You chose:</strong> ${choice.text}</p>
                    <p>Effects: ${Object.keys(choice.effect).map(stat => 
                        `${stat.charAt(0).toUpperCase() + stat.slice(1)} ${choice.effect[stat] >= 0 ? '+' : ''}${choice.effect[stat]}`
                    ).join(', ')}</p>
                </div>
            `;
            
            // Move to next scenario
            survivalStats.day++;
            currentScenario++;
            
            setTimeout(() => {
                document.getElementById('survival-choices').style.display = 'none';
                resultDiv.innerHTML = '';
                
                if (currentScenario < survivalScenarios.length && survivalStats.gameActive) {
                    presentScenario();
                } else {
                    endGame();
                }
            }, 3000);
        }
        
        function endGame(reason = null) {
            survivalStats.gameActive = false;
            const scenarioDiv = document.getElementById('survival-scenario');
            const choicesDiv = document.getElementById('survival-choices');
            
            let message = reason || "ğŸ‰ Congratulations! Your family survived the colonial challenges!";
            let score = survivalStats.health + survivalStats.food + survivalStats.shelter + Math.floor(survivalStats.money / 5);
            
            if (!reason && score > 150) {
                message = "ğŸ† Outstanding! Your family thrived in colonial America!";
            } else if (!reason && score > 100) {
                message = "âœ… Well done! Your family survived and did reasonably well!";
            } else if (!reason) {
                message = "ğŸ˜… Your family survived, but it was tough going!";
            }
            
            scenarioDiv.innerHTML = `
                <div class="game-over">
                    <h4>${message}</h4>
                    <p><strong>Final Score:</strong> ${score} points</p>
                    <p><strong>Days Survived:</strong> ${survivalStats.day - 1}</p>
                    <button type="button" onclick="startSurvivalChallenge()" class="survival-btn">ğŸ”„ Try Again</button>
                </div>
            `;
            
            choicesDiv.style.display = 'none';
            document.getElementById('survival-result').innerHTML = '';
            
            // Award gamification points
            if (window.gamificationSystem && !reason) {
                window.gamificationSystem.awardPoints('survival_challenge_complete');
                window.gamificationSystem.celebrate('ğŸ›ï¸ Colonial Survivor!');
            }
        }
        
        // Revolution Center Functions
        function showRevolutionTab(tabName, triggerEl) {
            // Hide all revolution tabs
            const tabs = document.querySelectorAll('.revolution-tab');
            tabs.forEach(tab => tab.style.display = 'none');
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.revolution-tabs .tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab (causes tab is already visible, others need to be created)
            if (tabName === 'causes') {
                document.getElementById('causes-tab').style.display = 'block';
            } else {
                // For now, show a placeholder - these could be expanded later
                const contentDiv = document.getElementById('revolution-content');
                const placeholder = document.createElement('div');
                placeholder.className = 'revolution-tab';
                placeholder.innerHTML = `<h3>ğŸ“š ${tabName.charAt(0).toUpperCase() + tabName.slice(1)} Section</h3><p>This section is being developed with more interactive content!</p>`;
                contentDiv.appendChild(placeholder);
            }
            
            // Add active class to clicked button
            const targetButton = triggerEl || Array.from(buttons).find(btn => {
                const handler = btn.getAttribute('onclick') || '';
                return handler.includes(`'${tabName}'`) || handler.includes(`\"${tabName}\"`);
            });
            if (targetButton) targetButton.classList.add('active');
        }
        
        const revolutionScenarios = [
            {
                title: "ğŸ›ï¸ The Boston Tea Party Decision",
                description: "British tea ships have arrived in Boston Harbor. Parliament passed the Tea Act, giving the British East India Company a monopoly on tea sales. Your neighbors are planning to protest.",
                patriotChoice: "Join the Sons of Liberty and dump the tea into the harbor to protest unfair taxation!",
                loyalistChoice: "Respect British law and property - destroying tea is illegal and will only anger Britain more!",
                outcome: {
                    patriot: "You joined the Boston Tea Party! This act of defiance helped unite the colonies against British rule, but also led to the harsh Intolerable Acts as punishment.",
                    loyalist: "You respected British property, but the Tea Party happened anyway. Your loyalty impressed British officials, but many colonists now distrust you."
                }
            },
            {
                title: "âš–ï¸ The Stamp Act Crisis",
                description: "Britain passed the Stamp Act, requiring expensive stamps on all paper documents - newspapers, legal documents, even playing cards! Colonists are organizing boycotts.",
                patriotChoice: "Boycott British goods and join protests - 'No taxation without representation!'",
                loyalistChoice: "Pay the stamp tax and stay loyal - Britain needs money to pay for protecting the colonies.",
                outcome: {
                    patriot: "Your boycotts worked! The Stamp Act was repealed after British merchants lost money. Colonists learned they had power when united.",
                    loyalist: "You paid the tax, but it was repealed anyway due to colonial pressure. Many neighbors now question your loyalty to colonial rights."
                }
            },
            {
                title: "ğŸ”« The Boston Massacre Response",
                description: "British soldiers fired into a crowd of colonists, killing five people including Crispus Attucks. How do you respond to this tragedy?",
                patriotChoice: "Spread the word about British brutality and demand the soldiers face justice!",
                loyalistChoice: "The soldiers were provoked by the angry mob - both sides share blame for this tragedy.",
                outcome: {
                    patriot: "Your outrage helped turn colonial opinion against Britain. The soldiers were tried, and this event became a rallying cry for independence.",
                    loyalist: "You tried to be fair, but most colonists saw this as unprovoked murder. Your moderate stance satisfied few on either side."
                }
            }
        ];
        
        let currentRevolutionScenario = 0;
        
        function generateRevolutionScenario() {
            if (currentRevolutionScenario >= revolutionScenarios.length) {
                currentRevolutionScenario = 0; // Reset to beginning
            }
            
            const scenario = revolutionScenarios[currentRevolutionScenario];
            const scenarioDiv = document.getElementById('scenario-display');
            const choicesDiv = document.getElementById('decision-choices');
            
            scenarioDiv.innerHTML = `
                <div class="revolution-scenario">
                    <h4>${scenario.title}</h4>
                    <p>${scenario.description}</p>
                </div>
            `;
            
            choicesDiv.innerHTML = `
                <div class="decision-buttons">
                    <button type="button" class="patriot-choice" onclick="choosePatriot()">ğŸ‡ºğŸ‡¸ ${scenario.patriotChoice}</button>
                    <button type="button" class="loyalist-choice" onclick="chooseLoyalist()">ğŸ‡¬ğŸ‡§ ${scenario.loyalistChoice}</button>
                </div>
            `;
            
            choicesDiv.style.display = 'block';
        }
        
        function choosePatriot() {
            showRevolutionOutcome('patriot');
        }
        
        function chooseLoyalist() {
            showRevolutionOutcome('loyalist');
        }
        
        function showRevolutionOutcome(choice) {
            const scenario = revolutionScenarios[currentRevolutionScenario];
            const resultDiv = document.getElementById('decision-result');
            
            const outcome = scenario.outcome[choice];
            const choiceType = choice === 'patriot' ? 'Patriot' : 'Loyalist';
            const flag = choice === 'patriot' ? 'ğŸ‡ºğŸ‡¸' : 'ğŸ‡¬ğŸ‡§';
            
            resultDiv.innerHTML = `
                <div class="revolution-outcome">
                    <h4>${flag} You chose the ${choiceType} side!</h4>
                    <p><strong>What happened:</strong> ${outcome}</p>
                    <p><em>Historical note: Both Patriots and Loyalists were ordinary people making difficult decisions based on their beliefs and circumstances.</em></p>
                    <button type="button" onclick="nextRevolutionScenario()" class="scenario-btn">ğŸ“œ Next Scenario</button>
                </div>
            `;
            
            document.getElementById('decision-choices').style.display = 'none';
            
            // Award points for engagement
            if (window.gamificationSystem) {
                window.gamificationSystem.awardPoints('revolution_scenario_complete');
                window.gamificationSystem.celebrate('ğŸ“œ History Decision Maker!');
            }
        }
        
        function nextRevolutionScenario() {
            currentRevolutionScenario++;
            document.getElementById('decision-result').innerHTML = '';
            
            if (currentRevolutionScenario < revolutionScenarios.length) {
                generateRevolutionScenario();
            } else {
                const scenarioDiv = document.getElementById('scenario-display');
                scenarioDiv.innerHTML = `
                    <div class="scenarios-complete">
                        <h4>ğŸ‰ You've experienced the major events leading to the American Revolution!</h4>
                        <p>These were real decisions that real colonists had to make. About 1/3 were Patriots, 1/3 were Loyalists, and 1/3 tried to stay neutral.</p>
                        <button type="button" onclick="resetRevolutionScenarios()" class="scenario-btn">ğŸ”„ Experience Again</button>
                    </div>
                `;
                document.getElementById('decision-choices').style.display = 'none';
            }
        }
        
        function resetRevolutionScenarios() {
            currentRevolutionScenario = 0;
            document.getElementById('scenario-display').innerHTML = '<p>Click "Get Revolution Scenario" to begin your journey through the events leading to the American Revolution!</p>';
            document.getElementById('decision-choices').style.display = 'none';
            document.getElementById('decision-result').innerHTML = '';
        }
        
        // Founding Fathers Functions
        const foundingFathers = {
            washington: {
                name: "George Washington",
                nickname: "Father of His Country",
                born: "1732",
                role: "First President & Commander-in-Chief",
                famous: "Led the Continental Army to victory and became the first President",
                quote: "I cannot tell a lie.",
                funFact: "He was 6 feet 2 inches tall - very tall for his time! He also had wooden teeth (actually made from ivory and other materials).",
                achievements: ["Won the Revolutionary War", "First U.S. President", "Established many presidential traditions", "Farewell Address warned against political parties"]
            },
            jefferson: {
                name: "Thomas Jefferson",
                nickname: "Author of Independence", 
                born: "1743",
                role: "Third President & Main Author of Declaration",
                famous: "Wrote the Declaration of Independence and made the Louisiana Purchase",
                quote: "All men are created equal.",
                funFact: "He was an inventor who created a rotating book stand and improved the design of the moldboard plow!",
                achievements: ["Wrote Declaration of Independence", "Third U.S. President", "Louisiana Purchase doubled country's size", "Founded University of Virginia"]
            },
            franklin: {
                name: "Benjamin Franklin",
                nickname: "The Renaissance Man",
                born: "1706", 
                role: "Diplomat, Inventor, & Writer",
                famous: "Proved lightning was electricity and helped convince France to support America",
                quote: "Early to bed and early to rise, makes a man healthy, wealthy, and wise.",
                funFact: "He invented bifocal glasses, the lightning rod, and the Franklin stove! He also started the first public library.",
                achievements: ["Proved lightning is electricity", "Convinced France to help America", "Started first public library", "Invented bifocals and lightning rod"]
            },
            adams: {
                name: "John Adams",
                nickname: "Atlas of Independence",
                born: "1735",
                role: "Second President & Diplomat",
                famous: "Defended British soldiers after Boston Massacre and was America's first Vice President", 
                quote: "Facts are stubborn things.",
                funFact: "He and Thomas Jefferson both died on the same day - July 4th, 1826, exactly 50 years after the Declaration of Independence!",
                achievements: ["Defended British soldiers fairly", "First Vice President", "Second President", "Avoided war with France"]
            },
            hamilton: {
                name: "Alexander Hamilton",
                nickname: "Financial Wizard",
                born: "1755",
                role: "First Secretary of Treasury",
                famous: "Created America's financial system and the first national bank",
                quote: "Those who stand for nothing fall for anything.",
                funFact: "He was born in the Caribbean and came to America as a teenager. He died in a duel with Aaron Burr in 1804!",
                achievements: ["Created U.S. financial system", "First Secretary of Treasury", "Founded first national bank", "Wrote many Federalist Papers"]
            },
            madison: {
                name: "James Madison",
                nickname: "Father of the Constitution",
                born: "1751", 
                role: "Fourth President & Constitutional Designer",
                famous: "Designed the Constitution and wrote the Bill of Rights",
                quote: "If men were angels, no government would be necessary.",
                funFact: "At 5 feet 4 inches and 100 pounds, he was the shortest and lightest President! But his ideas were mighty.",
                achievements: ["Designed the Constitution", "Wrote the Bill of Rights", "Fourth U.S. President", "Father of the Constitution"]
            }
        };
        
        function showFounderProfile(founderId) {
            const founder = foundingFathers[founderId];
            const profileDiv = document.getElementById('founder-profile');
            
            profileDiv.innerHTML = `
                <div class="founder-detail">
                    <h3>${founder.name}</h3>
                    <h4>"${founder.nickname}"</h4>
                    <div class="founder-info">
                        <p><strong>Born:</strong> ${founder.born}</p>
                        <p><strong>Role:</strong> ${founder.role}</p>
                        <p><strong>Famous for:</strong> ${founder.famous}</p>
                        <p><strong>Famous quote:</strong> "${founder.quote}"</p>
                        <p><strong>Fun fact:</strong> ${founder.funFact}</p>
                    </div>
                    <div class="founder-achievements">
                        <h5>Major Achievements:</h5>
                        <ul>
                            ${founder.achievements.map(achievement => `<li>${achievement}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
            
            // Award points for learning about founders
            if (window.gamificationSystem) {
                window.gamificationSystem.awardPoints('founder_profile_view');
                window.gamificationSystem.celebrate('ğŸ© History Explorer!');
            }
        }
        
        function checkChallenge(answer) {
            const resultDiv = document.getElementById('challenge-result');
            const buttons = document.querySelectorAll('.challenge-options button');
            
            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === 'iroquois') {
                resultDiv.innerHTML = '<p style="color: green; font-weight: bold;">âœ… Correct! The Iroquois Confederacy had a democratic system that influenced the U.S. Constitution with concepts like federalism and representative government.</p>';
                
                // Award points with gamification system
                if (window.gamificationSystem) {
                    window.gamificationSystem.awardPoints('daily_challenge_success');
                    window.gamificationSystem.celebrate('ğŸ‰ History Expert!');
                }
            } else {
                resultDiv.innerHTML = '<p style="color: red; font-weight: bold;">âŒ Not quite! The correct answer is the Iroquois Confederacy. They had a democratic government system that influenced the founders of America.</p>';
                
                // Award participation points
                if (window.gamificationSystem) {
                    window.gamificationSystem.awardPoints('daily_challenge_attempt');
                    window.gamificationSystem.celebrate('ğŸ“– Keep Learning!');
                }
            }
            
            // Reset challenge tomorrow
            setTimeout(() => {
                resultDiv.innerHTML = '';
                buttons.forEach(btn => btn.disabled = false);
            }, 10000);
        }
    </script>
</body>
</html>
