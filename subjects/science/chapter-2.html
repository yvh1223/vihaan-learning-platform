<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force, Motion & Energy - 5th Grade Science</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/responsive.css">
</head>
<body>
    <div id="header-container"></div>
    <main class="chapter-container">
        <div class="chapter-header">
            <div class="chapter-number">Chapter 2</div>
            <h1 class="chapter-title">Force, Motion & Energy</h1>
            <p class="chapter-description">Understand forces, motion, simple machines, and forms of energy in everyday life.</p>
        </div>
        <div class="lesson-content">
            <!-- Force & Motion Simulator -->
            <div class="experiment-station">
                <h3><span class="section-icon">‚ö°</span>Forces & Motion Laboratory</h3>
                <div class="physics-simulator">
                    <div class="force-demo" id="force-demo">
                        <div class="demo-object" id="demo-object">
                            <div class="object-box">üì¶</div>
                            <div class="velocity-arrow" id="velocity-arrow">‚Üí</div>
                        </div>
                        <div class="force-controls">
                            <div class="force-slider">
                                <label>Applied Force: <span id="force-value">0</span> N</label>
                                <input type="range" id="force-slider" min="0" max="50" value="0">
                            </div>
                            <div class="friction-slider">
                                <label>Surface Friction: <span id="friction-value">10</span> N</label>
                                <input type="range" id="friction-slider" min="0" max="30" value="10">
                            </div>
                            <button onclick="resetDemo()">Reset Position</button>
                        </div>
                    </div>
                    <div class="physics-explanation">
                        <p><strong>Newton's Laws in Action:</strong></p>
                        <ul>
                            <li><strong>1st Law:</strong> Objects at rest stay at rest unless acted upon by a force</li>
                            <li><strong>2nd Law:</strong> Force = Mass √ó Acceleration (F = ma)</li>
                            <li><strong>3rd Law:</strong> For every action, there is an equal and opposite reaction</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Simple Machines Workshop -->
            <div class="experiment-station">
                <h3><span class="section-icon">üîß</span>Simple Machines Workshop</h3>
                <div class="machines-grid">
                    <div class="machine-demo" data-machine="lever">
                        <div class="machine-visual lever-visual">
                            <div class="fulcrum">‚ñ≤</div>
                            <div class="lever-bar" id="lever-bar">
                                <div class="effort-point" id="effort-point">üëÜ</div>
                                <div class="load-point" id="load-point">üì¶</div>
                            </div>
                        </div>
                        <div class="machine-controls">
                            <label>Effort Distance: <span id="effort-distance">3</span>m</label>
                            <input type="range" id="effort-slider" min="1" max="5" value="3">
                            <div class="advantage-display">Mechanical Advantage: <span id="lever-advantage">3:1</span></div>
                        </div>
                    </div>

                    <div class="machine-demo" data-machine="pulley">
                        <div class="machine-visual pulley-visual">
                            <div class="pulley-system">
                                <div class="pulley-wheel">‚öôÔ∏è</div>
                                <div class="rope-line"></div>
                                <div class="load-weight">üì¶</div>
                            </div>
                        </div>
                        <div class="machine-controls">
                            <label>Number of Pulleys: <span id="pulley-count">1</span></label>
                            <input type="range" id="pulley-slider" min="1" max="4" value="1">
                            <div class="advantage-display">Force Reduction: <span id="pulley-advantage">1x</span></div>
                        </div>
                    </div>

                    <div class="machine-demo" data-machine="inclined-plane">
                        <div class="machine-visual incline-visual">
                            <div class="inclined-plane" id="inclined-plane">
                                <div class="plane-object">üì¶</div>
                                <div class="plane-angle">Œ∏ = <span id="angle-display">30¬∞</span></div>
                            </div>
                        </div>
                        <div class="machine-controls">
                            <label>Incline Angle: <span id="incline-angle">30</span>¬∞</label>
                            <input type="range" id="incline-slider" min="10" max="60" value="30">
                            <div class="advantage-display">Force Needed: <span id="incline-force">50%</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Energy Transformation Lab -->
            <div class="experiment-station">
                <h3><span class="section-icon">üîÑ</span>Energy Transformation Laboratory</h3>
                <div class="energy-demos">
                    <div class="pendulum-demo">
                        <h4>Pendulum Energy Transfer</h4>
                        <div class="pendulum-container">
                            <div class="pendulum-string"></div>
                            <div class="pendulum-bob" id="pendulum-bob">‚öΩ</div>
                            <div class="energy-bars">
                                <div class="energy-bar">
                                    <label>Potential Energy</label>
                                    <div class="energy-fill potential" id="potential-energy"></div>
                                </div>
                                <div class="energy-bar">
                                    <label>Kinetic Energy</label>
                                    <div class="energy-fill kinetic" id="kinetic-energy"></div>
                                </div>
                            </div>
                        </div>
                        <button onclick="startPendulum()">Start Pendulum</button>
                    </div>

                    <div class="spring-demo">
                        <h4>Spring Potential Energy</h4>
                        <div class="spring-container">
                            <div class="spring" id="spring">üåÄ</div>
                            <div class="spring-mass" id="spring-mass">‚ö´</div>
                        </div>
                        <div class="spring-controls">
                            <label>Compression: <span id="compression-value">0</span> cm</label>
                            <input type="range" id="compression-slider" min="0" max="10" value="0">
                            <div class="energy-display">Stored Energy: <span id="spring-energy">0</span> J</div>
                        </div>
                        <button onclick="releaseSpring()">Release Spring</button>
                    </div>
                </div>
            </div>

            <!-- Friction Investigation -->
            <div class="experiment-station">
                <h3><span class="section-icon">üõ§Ô∏è</span>Friction Investigation</h3>
                <div class="friction-tester">
                    <div class="surface-selector">
                        <h4>Test Different Surfaces:</h4>
                        <div class="surface-options">
                            <div class="surface-option" onclick="setSurface('ice')">
                                <div class="surface-sample ice">üßä</div>
                                <span>Ice (Low Friction)</span>
                            </div>
                            <div class="surface-option" onclick="setSurface('wood')">
                                <div class="surface-sample wood">ü™µ</div>
                                <span>Wood (Medium Friction)</span>
                            </div>
                            <div class="surface-option" onclick="setSurface('sandpaper')">
                                <div class="surface-sample sandpaper">üìã</div>
                                <span>Sandpaper (High Friction)</span>
                            </div>
                        </div>
                    </div>
                    <div class="friction-results" id="friction-results">
                        <div class="result-display">
                            <span>Current Surface: <strong id="current-surface">Select a surface</strong></span>
                            <span>Friction Coefficient: <strong id="friction-coefficient">-</strong></span>
                            <span>Stopping Distance: <strong id="stopping-distance">-</strong></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Physics Quiz Section -->
            <div class="experiment-station quiz-station">
                <h3><span class="section-icon">üß†</span>Physics Knowledge Check</h3>
                <div class="quiz-container" id="physics-quiz">
                    <div class="quiz-question" id="quiz-question">
                        <p>A ball rolls down a hill. What type of energy does it have at the top?</p>
                        <div class="quiz-options">
                            <button onclick="checkAnswer('A', false)">A) Kinetic Energy</button>
                            <button onclick="checkAnswer('B', true)">B) Potential Energy</button>
                            <button onclick="checkAnswer('C', false)">C) Thermal Energy</button>
                            <button onclick="checkAnswer('D', false)">D) Sound Energy</button>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="quiz-feedback" style="display: none;"></div>
                    <div class="quiz-progress">
                        <span>Question <span id="question-number">1</span> of <span id="total-questions">5</span></span>
                        <div class="quiz-score">Score: <span id="quiz-score">0</span>/5</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="chapter-navigation">
            <a href="chapter-1.html" class="nav-button">‚Üê Previous Chapter</a>
            <div class="progress-indicator">
                <div class="progress-text">Chapter Progress</div>
                <div class="progress-bar"><div class="progress-fill" style="width: 15%"></div></div>
            </div>
            <a href="chapter-3.html" class="nav-button">Next Chapter ‚Üí</a>
        </div>
    </main>
    <div id="footer-container"></div>
    <script src="../../js/app.js" defer></script>
    <script>
        // Load shared components
        function loadSharedComponents() {
            fetch('../shared/header.html').then(response => response.text()).then(html => document.getElementById('header-container').innerHTML = html);
            fetch('../shared/footer.html').then(response => response.text()).then(html => document.getElementById('footer-container').innerHTML = html);
        }
        document.readyState === 'loading' ? document.addEventListener('DOMContentLoaded', loadSharedComponents) : loadSharedComponents();

        // Physics Simulation Variables
        let demoObject = null;
        let forceSlider = null;
        let frictionSlider = null;
        let objectPosition = 50; // Starting position (percentage)
        let objectVelocity = 0;
        let animationId = null;
        let currentQuizQuestion = 0;
        let quizScore = 0;
        let pendulumRunning = false;
        let springAnimating = false;

        // Initialize physics demos
        document.addEventListener('DOMContentLoaded', function() {
            initializePhysicsSimulator();
            initializeMachines();
            initializeEnergyDemos();
            initializeQuiz();
        });

        // Force & Motion Simulator
        function initializePhysicsSimulator() {
            demoObject = document.getElementById('demo-object');
            forceSlider = document.getElementById('force-slider');
            frictionSlider = document.getElementById('friction-slider');
            
            forceSlider.addEventListener('input', updateForce);
            frictionSlider.addEventListener('input', updateFriction);
            
            startPhysicsAnimation();
        }

        function updateForce() {
            const force = parseInt(forceSlider.value);
            document.getElementById('force-value').textContent = force;
        }

        function updateFriction() {
            const friction = parseInt(frictionSlider.value);
            document.getElementById('friction-value').textContent = friction;
        }

        function startPhysicsAnimation() {
            function animate() {
                const appliedForce = parseInt(forceSlider.value);
                const friction = parseInt(frictionSlider.value);
                const netForce = Math.max(0, appliedForce - friction);
                
                // Simple physics: F = ma, assuming mass = 1
                const acceleration = netForce * 0.001; // Scale down for smooth animation
                objectVelocity += acceleration;
                objectVelocity *= 0.99; // Apply some damping
                
                objectPosition += objectVelocity;
                
                // Boundary checking
                if (objectPosition > 90) {
                    objectPosition = 90;
                    objectVelocity *= -0.5; // Bounce with energy loss
                } else if (objectPosition < 10) {
                    objectPosition = 10;
                    objectVelocity = Math.abs(objectVelocity);
                }
                
                // Update object position
                demoObject.style.left = objectPosition + '%';
                
                // Update velocity arrow
                const arrow = document.getElementById('velocity-arrow');
                const arrowSize = Math.min(Math.abs(objectVelocity) * 10, 50);
                arrow.style.fontSize = Math.max(12, arrowSize) + 'px';
                arrow.style.opacity = Math.min(Math.abs(objectVelocity) * 2, 1);
                
                animationId = requestAnimationFrame(animate);
            }
            animate();
        }

        function resetDemo() {
            objectPosition = 50;
            objectVelocity = 0;
            forceSlider.value = 0;
            frictionSlider.value = 10;
            updateForce();
            updateFriction();
        }

        // Simple Machines Functions
        function initializeMachines() {
            // Lever controls
            document.getElementById('effort-slider').addEventListener('input', updateLever);
            document.getElementById('pulley-slider').addEventListener('input', updatePulley);
            document.getElementById('incline-slider').addEventListener('input', updateIncline);
        }

        function updateLever() {
            const effortDistance = parseInt(document.getElementById('effort-slider').value);
            const loadDistance = 1; // Fixed for simplicity
            const mechanicalAdvantage = effortDistance / loadDistance;
            
            document.getElementById('effort-distance').textContent = effortDistance;
            document.getElementById('lever-advantage').textContent = mechanicalAdvantage.toFixed(1) + ':1';
            
            // Visual update
            const leverBar = document.getElementById('lever-bar');
            const effortPoint = document.getElementById('effort-point');
            effortPoint.style.left = (20 + effortDistance * 10) + 'px';
        }

        function updatePulley() {
            const pulleys = parseInt(document.getElementById('pulley-slider').value);
            document.getElementById('pulley-count').textContent = pulleys;
            document.getElementById('pulley-advantage').textContent = pulleys + 'x easier';
        }

        function updateIncline() {
            const angle = parseInt(document.getElementById('incline-slider').value);
            const forceReduction = Math.sin(angle * Math.PI / 180) * 100;
            
            document.getElementById('incline-angle').textContent = angle;
            document.getElementById('angle-display').textContent = angle + '¬∞';
            document.getElementById('incline-force').textContent = Math.round(forceReduction) + '% of weight';
            
            // Visual update
            const plane = document.getElementById('inclined-plane');
            plane.style.transform = `rotate(${angle}deg)`;
        }

        // Energy Transformation Functions
        function initializeEnergyDemos() {
            document.getElementById('compression-slider').addEventListener('input', updateSpringEnergy);
        }

        function startPendulum() {
            if (pendulumRunning) return;
            pendulumRunning = true;
            
            const bob = document.getElementById('pendulum-bob');
            const potentialBar = document.getElementById('potential-energy');
            const kineticBar = document.getElementById('kinetic-energy');
            
            let angle = 45; // Starting angle
            let velocity = 0;
            const gravity = 0.02;
            const damping = 0.999;
            
            function swingPendulum() {
                const acceleration = -gravity * Math.sin(angle * Math.PI / 180);
                velocity += acceleration;
                velocity *= damping;
                angle += velocity;
                
                // Calculate energies (simplified)
                const maxAngle = 45;
                const currentHeight = Math.cos(angle * Math.PI / 180);
                const potential = (1 - currentHeight) / 2; // Normalized 0-1
                const kinetic = Math.abs(velocity) / 2; // Normalized 0-1
                
                // Update visual position
                bob.style.transform = `rotate(${angle}deg)`;
                
                // Update energy bars
                potentialBar.style.height = (potential * 100) + '%';
                kineticBar.style.height = (kinetic * 100) + '%';
                
                if (Math.abs(velocity) > 0.01) {
                    requestAnimationFrame(swingPendulum);
                } else {
                    pendulumRunning = false;
                }
            }
            
            swingPendulum();
        }

        function updateSpringEnergy() {
            const compression = parseInt(document.getElementById('compression-slider').value);
            const energy = compression * compression * 0.5; // E = 0.5kx¬≤
            
            document.getElementById('compression-value').textContent = compression;
            document.getElementById('spring-energy').textContent = energy.toFixed(1);
            
            // Visual spring compression
            const spring = document.getElementById('spring');
            const mass = document.getElementById('spring-mass');
            spring.style.transform = `scaleY(${1 - compression * 0.05})`;
            mass.style.transform = `translateY(${compression * 2}px)`;
        }

        function releaseSpring() {
            if (springAnimating) return;
            springAnimating = true;
            
            const compressionSlider = document.getElementById('compression-slider');
            let compression = parseInt(compressionSlider.value);
            
            function animateRelease() {
                compression *= 0.9; // Exponential decay
                compressionSlider.value = compression;
                updateSpringEnergy();
                
                if (compression > 0.1) {
                    requestAnimationFrame(animateRelease);
                } else {
                    compressionSlider.value = 0;
                    updateSpringEnergy();
                    springAnimating = false;
                }
            }
            
            animateRelease();
        }

        // Friction Investigation
        function setSurface(surfaceType) {
            const surfaces = {
                ice: { name: 'Ice', coefficient: 0.1, distance: '50m' },
                wood: { name: 'Wood', coefficient: 0.4, distance: '12m' },
                sandpaper: { name: 'Sandpaper', coefficient: 0.8, distance: '3m' }
            };
            
            const surface = surfaces[surfaceType];
            document.getElementById('current-surface').textContent = surface.name;
            document.getElementById('friction-coefficient').textContent = surface.coefficient;
            document.getElementById('stopping-distance').textContent = surface.distance;
            
            // Visual feedback
            document.querySelectorAll('.surface-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.surface-option').classList.add('selected');
        }

        // Physics Quiz System
        const quizQuestions = [
            {
                question: "A ball rolls down a hill. What type of energy does it have at the top?",
                options: ["A) Kinetic Energy", "B) Potential Energy", "C) Thermal Energy", "D) Sound Energy"],
                correct: 1,
                explanation: "At the top of the hill, the ball has maximum potential energy due to its height. As it rolls down, this converts to kinetic energy."
            },
            {
                question: "Which simple machine helps you lift heavy objects with less force?",
                options: ["A) Wheel", "B) Pulley", "C) Screw", "D) Wedge"],
                correct: 1,
                explanation: "A pulley changes the direction of force and can provide mechanical advantage, making it easier to lift heavy objects."
            },
            {
                question: "According to Newton's first law, what happens to an object at rest?",
                options: ["A) It starts moving", "B) It stays at rest unless acted upon by a force", "C) It moves backward", "D) It disappears"],
                correct: 1,
                explanation: "Newton's first law states that an object at rest stays at rest unless acted upon by an unbalanced force."
            },
            {
                question: "What causes friction between two surfaces?",
                options: ["A) Smoothness", "B) Color", "C) Roughness and contact", "D) Temperature"],
                correct: 2,
                explanation: "Friction is caused by the roughness of surfaces in contact. Rougher surfaces create more friction."
            },
            {
                question: "In a lever, moving the fulcrum closer to the load will:",
                options: ["A) Make it harder to lift", "B) Make it easier to lift", "C) Have no effect", "D) Break the lever"],
                correct: 1,
                explanation: "Moving the fulcrum closer to the load increases the mechanical advantage, making it easier to lift the load."
            }
        ];

        function initializeQuiz() {
            loadQuizQuestion();
        }

        function loadQuizQuestion() {
            if (currentQuizQuestion >= quizQuestions.length) {
                showQuizResults();
                return;
            }
            
            const question = quizQuestions[currentQuizQuestion];
            document.getElementById('quiz-question').innerHTML = `
                <p>${question.question}</p>
                <div class="quiz-options">
                    ${question.options.map((option, index) => 
                        `<button onclick="checkAnswer(${index}, ${index === question.correct})">${option}</button>`
                    ).join('')}
                </div>
            `;
            
            document.getElementById('question-number').textContent = currentQuizQuestion + 1;
            document.getElementById('quiz-feedback').style.display = 'none';
        }

        function checkAnswer(selectedIndex, isCorrect) {
            const question = quizQuestions[currentQuizQuestion];
            const feedback = document.getElementById('quiz-feedback');
            
            if (isCorrect) {
                quizScore++;
                feedback.innerHTML = `<div class="correct">‚úÖ Correct! ${question.explanation}</div>`;
            } else {
                feedback.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${question.explanation}</div>`;
            }
            
            feedback.style.display = 'block';
            document.getElementById('quiz-score').textContent = quizScore;
            
            // Disable buttons
            document.querySelectorAll('.quiz-options button').forEach(btn => btn.disabled = true);
            
            // Auto-advance after 3 seconds
            setTimeout(() => {
                currentQuizQuestion++;
                loadQuizQuestion();
            }, 3000);
        }

        function showQuizResults() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            const resultMessage = percentage >= 80 ? 
                "üéâ Excellent! You have a great understanding of forces and motion!" :
                percentage >= 60 ? 
                "üëç Good job! Review the concepts and try the experiments again." :
                "üìö Keep learning! Try the interactive experiments to better understand these concepts.";
            
            document.getElementById('quiz-question').innerHTML = `
                <div class="quiz-complete">
                    <h3>Quiz Complete!</h3>
                    <p>Your Score: ${quizScore}/${quizQuestions.length} (${percentage}%)</p>
                    <p>${resultMessage}</p>
                    <button onclick="restartQuiz()">Take Quiz Again</button>
                </div>
            `;
        }

        function restartQuiz() {
            currentQuizQuestion = 0;
            quizScore = 0;
            document.getElementById('quiz-score').textContent = '0';
            loadQuizQuestion();
        }

        // Initialize all systems when page loads
        updateLever();
        updatePulley();
        updateIncline();
        updateSpringEnergy();
    </script>
    
    <style>
        /* Physics Simulator Styles */
        .experiment-station {
            background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #2196f3;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.1);
        }

        .physics-simulator {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .force-demo {
            position: relative;
            height: 200px;
            background: linear-gradient(to bottom, #87ceeb 0%, #90EE90 100%);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .demo-object {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: left 0.1s linear;
        }

        .object-box {
            font-size: 2rem;
            background: #ff6b35;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .velocity-arrow {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
            color: #ff1744;
            font-weight: bold;
            transition: all 0.1s ease;
        }

        .force-controls {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 20px;
            align-items: center;
        }

        .force-slider, .friction-slider {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .force-slider label, .friction-slider label {
            font-weight: bold;
            color: #333;
        }

        .force-slider input, .friction-slider input {
            width: 100%;
            accent-color: #2196f3;
        }

        /* Simple Machines Styles */
        .machines-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .machine-demo {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #4caf50;
        }

        .machine-visual {
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f8ff;
            border-radius: 8px;
            margin-bottom: 15px;
            position: relative;
        }

        .lever-visual .fulcrum {
            position: absolute;
            bottom: 20px;
            font-size: 2rem;
            color: #333;
        }

        .lever-bar {
            width: 200px;
            height: 6px;
            background: #8b4513;
            position: relative;
            border-radius: 3px;
        }

        .effort-point, .load-point {
            position: absolute;
            top: -25px;
            font-size: 1.5rem;
        }

        .effort-point { left: 20px; }
        .load-point { right: 20px; }

        .pulley-visual {
            flex-direction: column;
        }

        .pulley-wheel {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .rope-line {
            width: 4px;
            height: 60px;
            background: #8b4513;
            border-radius: 2px;
        }

        .load-weight {
            font-size: 1.5rem;
            margin-top: 5px;
        }

        .inclined-plane {
            width: 120px;
            height: 20px;
            background: #8b4513;
            transform-origin: bottom left;
            transition: transform 0.3s ease;
            position: relative;
        }

        .plane-object {
            position: absolute;
            top: -25px;
            right: 10px;
            font-size: 1.2rem;
        }

        .plane-angle {
            position: absolute;
            bottom: -30px;
            left: 20px;
            font-size: 0.9rem;
            color: #666;
        }

        .machine-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .advantage-display {
            background: #e8f5e8;
            padding: 8px;
            border-radius: 5px;
            font-weight: bold;
            color: #2e7d32;
            text-align: center;
        }

        /* Energy Demo Styles */
        .energy-demos {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .pendulum-demo, .spring-demo {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #ff9800;
        }

        .pendulum-container {
            position: relative;
            height: 200px;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            margin: 15px 0;
        }

        .pendulum-string {
            position: absolute;
            top: 20px;
            left: 50%;
            width: 2px;
            height: 80px;
            background: #333;
            transform-origin: top;
        }

        .pendulum-bob {
            position: absolute;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            transform-origin: -50px -70px;
            transition: transform 0.1s linear;
        }

        .energy-bars {
            display: flex;
            gap: 10px;
            position: absolute;
            right: 10px;
            top: 10px;
        }

        .energy-bar {
            width: 20px;
            height: 100px;
            background: #eee;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .energy-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            transition: height 0.1s ease;
            border-radius: 0 0 10px 10px;
        }

        .energy-fill.potential { background: #4caf50; }
        .energy-fill.kinetic { background: #ff5722; }

        .spring-container {
            display: flex;
            align-items: end;
            justify-content: center;
            height: 150px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 15px 0;
        }

        .spring {
            font-size: 3rem;
            transform-origin: bottom;
            transition: transform 0.3s ease;
        }

        .spring-mass {
            font-size: 2rem;
            margin-left: -10px;
            transition: transform 0.3s ease;
        }

        /* Friction Tester Styles */
        .friction-tester {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .surface-options {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .surface-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .surface-option:hover {
            border-color: #2196f3;
            background: #f0f8ff;
        }

        .surface-option.selected {
            border-color: #2196f3;
            background: #e3f2fd;
        }

        .surface-sample {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .friction-results {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .result-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        /* Quiz Styles */
        .quiz-station {
            border-color: #9c27b0;
            background: linear-gradient(135deg, #f8f9fa 0%, #f3e5f5 100%);
        }

        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-options button {
            padding: 12px;
            border: 2px solid #9c27b0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .quiz-options button:hover:not(:disabled) {
            background: #f3e5f5;
            transform: translateY(-2px);
        }

        .quiz-options button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            animation: slideIn 0.3s ease;
        }

        .quiz-feedback .correct {
            background: #e8f5e8;
            color: #2e7d32;
            border-left: 4px solid #4caf50;
            padding: 10px;
        }

        .quiz-feedback .incorrect {
            background: #ffebee;
            color: #c62828;
            border-left: 4px solid #f44336;
            padding: 10px;
        }

        .quiz-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .quiz-complete {
            text-align: center;
            padding: 20px;
        }

        .quiz-complete button {
            background: #9c27b0;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
        }

        .quiz-complete button:hover {
            background: #7b1fa2;
        }

        /* Physics Explanation Styles */
        .physics-explanation {
            background: #f0f8ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid #2196f3;
        }

        .physics-explanation ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .physics-explanation li {
            margin: 8px 0;
            line-height: 1.5;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .machines-grid {
                grid-template-columns: 1fr;
            }
            
            .energy-demos {
                grid-template-columns: 1fr;
            }
            
            .force-controls {
                grid-template-columns: 1fr;
            }
            
            .surface-options {
                justify-content: center;
            }
            
            .result-display {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>