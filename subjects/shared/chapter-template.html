<!DOCTYPE html>
<!--
CHAPTER TEMPLATE - Base template for all subject chapters
Usage: Copy this template for each chapter and customize content sections
Variables to replace: {{SUBJECT}}, {{CHAPTER_NUMBER}}, {{CHAPTER_TITLE}}, {{CONTENT}}
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{CHAPTER_TITLE}} - Interactive 5th grade {{SUBJECT}} lesson with visual learning and practice activities">
    <meta name="keywords" content="5th grade, {{SUBJECT}}, {{CHAPTER_TITLE}}, learning, education, STAAR, MAP, Texas TEKS">
    <meta name="author" content="Yallappa H">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{CHAPTER_TITLE}} - 5th Grade {{SUBJECT}}">
    <meta property="og:description" content="Interactive {{SUBJECT}} lesson for 5th graders with visual learning elements">
    <meta property="og:type" content="website">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4A90E2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <title>{{CHAPTER_TITLE}} - 5th Grade {{SUBJECT}} | Learning Platform</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/responsive.css">
    
    <!-- Chapter-specific styles -->
    <style>
        /* Chapter Page Specific Styles */
        .chapter-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }
        
        .chapter-header {
            text-align: center;
            margin-bottom: var(--spacing-xxl);
            padding: var(--spacing-xl);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--radius-lg);
            color: var(--text-white);
        }
        
        .chapter-number {
            font-size: var(--font-size-lg);
            opacity: 0.9;
            margin-bottom: var(--spacing-sm);
        }
        
        .chapter-title {
            font-size: var(--font-size-xxxl);
            margin-bottom: var(--spacing-md);
        }
        
        .chapter-description {
            font-size: var(--font-size-lg);
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .lesson-content {
            display: grid;
            gap: var(--spacing-xxl);
            margin-bottom: var(--spacing-xxl);
        }
        
        .lesson-section {
            background-color: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-md);
            border-left: 4px solid var(--primary-color);
        }
        
        .lesson-section h3 {
            color: var(--primary-color);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .section-icon {
            font-size: var(--font-size-xl);
            padding: var(--spacing-sm);
            background-color: var(--bg-secondary);
            border-radius: var(--radius-md);
        }
        
        .visual-element {
            text-align: center;
            margin: var(--spacing-lg) 0;
            padding: var(--spacing-lg);
            background-color: var(--bg-secondary);
            border-radius: var(--radius-md);
            border: 2px dashed var(--bg-accent);
        }
        
        .placeholder-image {
            width: 100%;
            max-width: 400px;
            height: 200px;
            background: linear-gradient(45deg, var(--bg-accent), var(--bg-secondary));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .interactive-activity {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            color: var(--text-white);
            text-align: center;
            margin: var(--spacing-lg) 0;
        }
        
        .activity-button {
            background-color: var(--text-white);
            color: var(--primary-color);
            padding: var(--spacing-md) var(--spacing-xl);
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            margin-top: var(--spacing-md);
        }
        
        .activity-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .chapter-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-xl);
            background-color: var(--bg-secondary);
            border-radius: var(--radius-lg);
            margin-top: var(--spacing-xxl);
        }
        
        .nav-button {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-lg);
            background-color: var(--primary-color);
            color: var(--text-white);
            text-decoration: none;
            border-radius: var(--radius-md);
            font-weight: 500;
            transition: all var(--transition-fast);
        }
        
        .nav-button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .progress-indicator {
            background-color: var(--bg-card);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            text-align: center;
        }
        
        .progress-text {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-sm);
        }
        
        .progress-bar {
            width: 200px;
            height: 8px;
            background-color: var(--bg-accent);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin: 0 auto;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--radius-full);
            transition: width var(--transition-slow);
        }
        
        /* Mobile Responsive */
        @media (max-width: 767px) {
            .chapter-container {
                padding: var(--spacing-md);
            }
            
            .chapter-header {
                padding: var(--spacing-lg);
            }
            
            .chapter-title {
                font-size: var(--font-size-xxl);
            }
            
            .lesson-section {
                padding: var(--spacing-lg);
            }
            
            .chapter-navigation {
                flex-direction: column;
                gap: var(--spacing-lg);
                text-align: center;
            }
            
            .nav-button {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Include Shared Header -->
    <div id="header-container"></div>
    
    <!-- Main Chapter Content -->
    <main class="chapter-container">
        <!-- Chapter Header -->
        <div class="chapter-header">
            <div class="chapter-number">Chapter {{CHAPTER_NUMBER}}</div>
            <h1 class="chapter-title">{{CHAPTER_TITLE}}</h1>
            <p class="chapter-description">{{CHAPTER_DESCRIPTION}}</p>
        </div>
        
        <!-- Lesson Content (Replace with specific content) -->
        <div class="lesson-content">
            {{CONTENT_SECTIONS}}
        </div>
        
        <!-- Chapter Navigation -->
        <div class="chapter-navigation">
            <a href="{{PREV_CHAPTER_URL}}" class="nav-button" id="prev-button">
                ← Previous Chapter
            </a>
            
            <div class="progress-indicator">
                <div class="progress-text">Chapter Progress</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: {{PROGRESS}}%"></div>
                </div>
            </div>
            
            <a href="{{NEXT_CHAPTER_URL}}" class="nav-button" id="next-button">
                Next Chapter →
            </a>
        </div>
    </main>
    
    <!-- Include Shared Footer -->
    <div id="footer-container"></div>
    
    <!-- JavaScript -->
    <script src="/js/app.js" defer></script>
    <script>
        // Chapter Template JavaScript
        (function() {
            // Load shared components
            function loadSharedComponents() {
                // Load header
                fetch('/subjects/shared/header.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('header-container').innerHTML = html;
                    })
                    .catch(error => console.error('Error loading header:', error));
                
                // Load footer
                fetch('/subjects/shared/footer.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('footer-container').innerHTML = html;
                    })
                    .catch(error => console.error('Error loading footer:', error));
            }
            
            // Initialize interactive activities
            function initializeActivities() {
                const activityButtons = document.querySelectorAll('.activity-button');
                activityButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        // Add click animation
                        this.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 150);
                        
                        // Trigger activity (placeholder)
                        console.log('Activity triggered:', this.textContent);
                        
                        // Show engagement message
                        showNotification('Great! You\'re engaging with the material! 🎉', 'success');
                    });
                });
            }
            
            // Simple notification system
            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? 'var(--success-color)' : 'var(--primary-color)'};
                    color: white;
                    padding: var(--spacing-md);
                    border-radius: var(--radius-md);
                    box-shadow: var(--shadow-lg);
                    z-index: 1000;
                    animation: slideIn 0.3s ease-out;
                `;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
            
            // Initialize on page load
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    loadSharedComponents();
                    initializeActivities();
                });
            } else {
                loadSharedComponents();
                initializeActivities();
            }
        })();
    </script>
    
    <style>
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</body>
</html>